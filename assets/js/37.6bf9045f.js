(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{176:function(s,e,a){"use strict";a.r(e);var n=a(0),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"loader-与-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader-与-plugin"}},[s._v("#")]),s._v(" loader 与 plugin")]),s._v(" "),a("h2",{attrs:{id:"配置loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置loader"}},[s._v("#")]),s._v(" 配置loader")]),s._v(" "),a("h3",{attrs:{id:"loader匹配规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader匹配规则"}},[s._v("#")]),s._v(" loader匹配规则")]),s._v(" "),a("p",[s._v("我们在使用"),a("code",[s._v("loader")]),s._v("的时候，都是在"),a("code",[s._v("modules.rules")]),s._v("中添加新的配置项，在该字段中，每一项被视为一条匹配使用loader的规则")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("最常用的例子\n\nmodule.exports = {\n    // ...\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?/,    // 正则匹配条件\n                include: [\n                    path.resolve(__dirname,'src')\n                ],  // 规定规则范围\n                use: 'babel-loader' // 规则应用结果\n            }\n            // ...\n        ]\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("在"),a("code",[s._v("rules")]),s._v("的匹配规则中有两个关键因素：一个是匹配条件，一个是匹配规则后的应用")]),s._v(" "),a("p",[s._v("匹配条件通常都是使用请求资源文件的"),a("strong",[s._v("绝对路径")]),s._v("来进行匹配")]),s._v(" "),a("p",[s._v("官方文档里将匹配条件定义为"),a("code",[s._v("resource")]),s._v("，此外还有比较少用到的"),a("code",[s._v("issuer")]),s._v("，则是声明依赖请求的源文件的绝对路径")]),s._v(" "),a("p",[s._v("例如：在"),a("code",[s._v("/xx/xxx/xxxx.js")]),s._v("中声明引入"),a("code",[s._v("import './src/utils.js")]),s._v("，"),a("code",[s._v("resource")]),s._v("是"),a("code",[s._v("/xx/xxx/src/utils.js")]),s._v("，"),a("code",[s._v("issuer")]),s._v("是"),a("code",[s._v("/xx/xxx/xxxx.js")]),s._v("，规则条件会对这两个值进行尝试匹配")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    // ...\n    rules: [\n        {\n            resource: {\n                test: /\\.jsx?/,\n                include: [\n                    path.resolve(__dirname,'src'),\n                ],\n            },\n            // 如果是使用issuer来匹配，则是issuer: { test: ... }\n            use: 'babel-loader'\n        }\n        // ...\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"规则条件匹配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规则条件匹配"}},[s._v("#")]),s._v(" 规则条件匹配")]),s._v(" "),a("p",[a("code",[s._v("webpack")]),s._v("的规则提供了多种配置形式：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("- test: ...     正则匹配特定条件\n- include: ...       匹配特定路径\n- exclude: ...       排除特定路径\n- and: [...]        必须匹配数组中所有条件\n- or: [...]     匹配数组中任意一个条件\n- not: [...]        排除匹配数组中所有条件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("上述这些条件的值可以是以下5种\n- 字符串    必须以提供的字符串开始，所以是字符串的话，这里我们需要提供绝对路径\n- 正则表达式        用正则表达式的方式判断条件\n- 函数 (path) => string     返回true代表匹配成功\n- 数组      至少包含一个条件的数组\n- 对象      匹配所有属性值的条件    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"module-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-type"}},[s._v("#")]),s._v(" module type")]),s._v(" "),a("p",[a("strong",[s._v("什么是"),a("code",[s._v("module type")]),s._v("❓")]),s._v(" "),a("code",[s._v("module type")]),s._v("即模块类型的概念，不同模块类型类似于配置了不同的"),a("code",[s._v("loader")]),s._v("，"),a("code",[s._v("webpack")]),s._v("会有针对性地进行处理")]),s._v(" "),a("p",[a("strong",[s._v("5种模块类型")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("javascript/auto")]),s._v("：即 webpack 3 默认的类型，支持现有的各种 JS 代码模块类型 —— CommonJS、AMD、ESM")]),s._v(" "),a("li",[a("code",[s._v("javascript/esm")]),s._v("：ECMAScript modules，其他模块系统，例如 CommonJS 或者 AMD 等不支持，是 .mjs 文件的默认类型")]),s._v(" "),a("li",[a("code",[s._v("javascript/dynamic")]),s._v("：CommonJS 和 AMD，排除 ESM")]),s._v(" "),a("li",[a("code",[s._v("javascript/json")]),s._v("：JSON 格式数据，require 或者 import 都可以引入，是 .json 文件的默认类型")]),s._v(" "),a("li",[a("code",[s._v("webassembly/experimental")]),s._v("：WebAssembly modules，当前还处于试验阶段，是 .wasm 文件的默认类型")])]),s._v(" "),a("p",[s._v("如果不希望使用默认的类型的话，在确定好匹配规则条件时，我们可以使用 "),a("code",[s._v("type")]),s._v(" 字段来指定模块类型，例如把所有的 "),a("code",[s._v("JS")]),s._v(" 代码文件都设置为强制使用 "),a("code",[s._v("ESM")]),s._v(" 类型：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n    test: /\\.js/,\n    include: [\n        path.resolve(__dirname,'src')\n    ],\n    type: 'javascript/esm', // 指定模块类型 （ 默认是 javascript/auto ）\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"使用loader配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用loader配置"}},[s._v("#")]),s._v(" 使用loader配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rules: [\n    {\n        test: /\\.less/,\n        use: [\n            'style-loader', // 直接用字符串表示loader\n            {\n                loader:'css-loader',\n                options:{\n                    importLoaders: 1\n                }\n            }, // 用对象表示 loader，可以传递loader配置等\n            {\n                loader: 'less-loader',\n                options: {\n                    noIeCompoat: true\n                }, // 传递loader配置\n            }\n        ]\n    }\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("上面这个例子种，"),a("code",[s._v("use")]),s._v("可以是一个数组，也可以是一个字符串或者表示"),a("code",[s._v("loader")]),s._v("的对象。")]),s._v(" "),a("p",[a("strong",[s._v("PS：")]),s._v(" 我们还可以使用"),a("code",[s._v("options")]),s._v("给对应的"),a("code",[s._v("loader")]),s._v("传递一些配置项")]),s._v(" "),a("h3",{attrs:{id:"loader执行顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader执行顺序"}},[s._v("#")]),s._v(" loader执行顺序")]),s._v(" "),a("p",[s._v("在一个匹配规则中可以配置使用多个"),a("code",[s._v("loader")]),s._v("，即一个模块文件可以经过多个"),a("code",[s._v("loader")]),s._v("的转换处理，执行的顺序是从最后配置的"),a("code",[s._v("loader")]),s._v("开始，由后配置到先配置的顺序，例如上个例子中，"),a("code",[s._v(".less")]),s._v("文件会经理"),a("code",[s._v("less-loader")]),s._v("到"),a("code",[s._v("css-loader")]),s._v("再到"),a("code",[s._v("style-loader")]),s._v("的处理，最后成一个可以打包的模块")]),s._v(" "),a("p",[s._v("从后配置到先配置的顺序是在同一个"),a("code",[s._v("rule")]),s._v("中的执行方案，那么又有另外一个问题！当一个模块文件同时匹配到多个"),a("code",[s._v("rule")]),s._v("，"),a("code",[s._v("loader")]),s._v("又会按照什么顺序去应用呢？")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('rules: [\n  {\n    test: /\\.js$/,\n    exclude: /node_modules/,  // 排除node_modules\n    loader: "eslint-loader",\n  },\n  {\n    test: /\\.js$/,\n    exclude: /node_modules/, // 排除node_modules\n    loader: "babel-loader",\n  },\n],\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("上面的例子中我们需要在"),a("code",[s._v("babel-loader")]),s._v("应用之前先应用"),a("code",[s._v("eslint-loader")]),s._v(",我们无法保证按照这种顺序执行")]),s._v(" "),a("p",[a("code",[s._v("webpack")]),s._v("在"),a("code",[s._v("rules")]),s._v("中提供了一个"),a("code",[s._v("enforce")]),s._v("字段，用来配置当前"),a("code",[s._v("rule")]),s._v("的"),a("code",[s._v("loader")]),s._v("类型，默认是普通类型，而我们可以配置成"),a("code",[s._v("pre")]),s._v("或者是"),a("code",[s._v("post")])]),s._v(" "),a("ul",[a("li",[s._v("pre - 前置")]),s._v(" "),a("li",[s._v("post - 后置")])]),s._v(" "),a("p",[s._v("所有的"),a("code",[s._v("loader")]),s._v("会按照"),a("strong",[s._v("前置 → 行内 → 普通 → 后置")]),s._v("的顺序执行，所以我们要确保"),a("code",[s._v("eslint-loader")]),s._v("在"),a("code",[s._v("babel-loader")]),s._v("之前使用，就需要添加"),a("code",[s._v("enforce")]),s._v("字段")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('rules:[\n    {\n        enforce: "pre", // 前置\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: "eslint-loader"\n    }\n]\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"使用-noparse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-noparse"}},[s._v("#")]),s._v(" 使用 noParse")]),s._v(" "),a("p",[a("code",[s._v("module.noParse")]),s._v("可以用于配置哪些模块文件的内容不需要进行解析。")]),s._v(" "),a("p",[s._v("对于一些不需要解析依赖的库（例如"),a("code",[s._v("jquery")]),s._v("），可以通过"),a("code",[s._v("noParse")]),s._v("来配置（可提高整体构建速度）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    // ...\n    module: {\n        noParse: /jquery|lodash/, // 正则表达式\n\n        \x3c!-- 或者使用 function\n        noParse(content) {\n            return /jquery|lodash/.test(content)\n        }, --\x3e\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("strong",[s._v("❗ 使用"),a("code",[s._v("noParse")]),s._v("进行忽略的模块文件中不能使用"),a("code",[s._v("import / require / define")]),s._v("等引用方式")])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"配置plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置plugin"}},[s._v("#")]),s._v(" 配置plugin")]),s._v(" "),a("p",[a("code",[s._v("plugin")]),s._v("为"),a("code",[s._v("webpack")]),s._v("提供额外的功能，由于需要提供不同的功能，不同的插件本身的配置比较多样化")]),s._v(" "),a("p",[a("code",[s._v("webpack")]),s._v("插件可以上 https://github.com/webpack-contrib/awesome-webpack#webpack-plugins 进行查阅")]),s._v(" "),a("h3",{attrs:{id:"几个常用插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#几个常用插件"}},[s._v("#")]),s._v(" 几个常用插件")]),s._v(" "),a("h4",{attrs:{id:"defineplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#defineplugin"}},[s._v("#")]),s._v(" DefinePlugin")]),s._v(" "),a("p",[a("code",[s._v("DefinePlugin")]),s._v("是"),a("code",[s._v("webpack")]),s._v("的内置插件，不需要安装，直接通过"),a("code",[s._v("webpack.DefinePlugin")]),s._v("使用")]),s._v(" "),a("p",[s._v("作用：创建一些在编译时可以配置的"),a("strong",[s._v("全局常量")]),s._v("，这些常量的值我们可以在"),a("code",[s._v("webpack")]),s._v("的配置中指定")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n    // ...\n    plugins: [\n        new webpack.DefinePlugin({\n            _GET:JSON.stringify('get'),   // const _GET = 'get'\n            _POST:JSON.stringify('post'), // const _POST = 'post'\n            _DELETE:JSON.stringify('delete'), // const _DELETE = 'delete'\n            _PUT:JSON.stringify('put'), // const _PUT = 'put'\n        })\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("这些配置好的全局常量，可以在代码中直接使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("console.log('this Api type is' + _GET)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("配置规则")])]),s._v(" "),a("ul",[a("li",[s._v("如果配置的值是字符串，那么字符串会被当成代码片段来执行，其结果作为最终变量的值，例如"),a("code",[s._v("'1 + 1'")]),s._v("，最后结果会是"),a("code",[s._v("2")])]),s._v(" "),a("li",[s._v("如果配置的值不是字符串，也不是对象字面量，那么值会转换为一个字符串，例如"),a("code",[s._v("true")]),s._v("，会被转换成"),a("code",[s._v("'true'")])]),s._v(" "),a("li",[s._v("如果配置的是一个对象字面量，那么该对象的所有"),a("code",[s._v("key")]),s._v("会以相同的方式定义")])]),s._v(" "),a("h4",{attrs:{id:"extract-text-webpack-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extract-text-webpack-plugin"}},[s._v("#")]),s._v(" extract-text-webpack-plugin")]),s._v(" "),a("p",[s._v("作用：用来把依赖的"),a("code",[s._v("css")]),s._v("分离出来成为单独的文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const ExtractTextPlugin = require('extract-text-webpack-plugin')\n\nmodule.exports = {\n    // ...\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: ExtractTextPlugin.extract({\n                    fallback: 'style-loaer',\n                    use: 'css-loader'\n                })\n            }\n        ]\n    },\n    plugins: [\n        new ExtractTextPlugin('index.css')  // 配置文件名\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("有时候我们构建的入口不止一个，那么ExtractTextPlugin会为每一个入口创建单独分离的文件\n\nplugins: [\n    new ExtractTextPlugin('[name].css')\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("❗ 使用ExtractTextPlugin，还需要调整"),a("code",[s._v("loader")]),s._v("对应的配置")])]),s._v(" "),a("h4",{attrs:{id:"provideplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provideplugin"}},[s._v("#")]),s._v(" ProvidePlugin")]),s._v(" "),a("p",[a("code",[s._v("ProvidePlugin")]),s._v("是"),a("code",[s._v("webpack")]),s._v("内置的，直接通过"),a("code",[s._v("webpack.ProvidePlugin")]),s._v("来使用")]),s._v(" "),a("p",[s._v("作用： 引用某些模块作为程序运行时的变量，不必每次使用都需要"),a("code",[s._v("import/require")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("plugins: [\n    new webpack.ProvidePlugin({\n        identifier:'xxx',  // 类似于 import 'xxx'  \n        // identifier: ['xxx','xxxx']   类似于 import xxxx from 'xxxx'\n    })\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"ignoreplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ignoreplugin"}},[s._v("#")]),s._v(" IgnorePlugin")]),s._v(" "),a("p",[a("code",[s._v("IgnorePlugin")]),s._v("是"),a("code",[s._v("webpack")]),s._v("内置的，直接通过"),a("code",[s._v("webpack.IgnorePlugin")]),s._v("来使用")]),s._v(" "),a("p",[s._v("作用：用于忽略某些特定的模块，让webpack不把这些指定的模块打包进去，例如我们使用了"),a("code",[s._v("moment.js")]),s._v("，如果直接引用后，里面会有大量的"),a("code",[s._v("i18n")]),s._v("代码，会导致打包出来的文件比较大，而实际上我们并不需要，这就是"),a("code",[s._v("IgnorePlugin")]),s._v("的使用场景")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("plugins: [\n    new webpack.IgnorePlugin(/^\\.\\/locale$/,/moment$/)\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("IgnorePlugin")]),s._v("的参数\n1 - 匹配引入模块路径的正则表达式\n2 - 匹配模块的对应上下文，即所在目录名")])])}),[],!1,null,null,null);e.default=t.exports}}]);