(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{172:function(s,a,n){"use strict";n.r(a);var e=n(0),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"webpack小册"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack小册"}},[s._v("#")]),s._v(" webpack小册")]),s._v(" "),n("p",[s._v("使用 webpack 4.x 定制前端开发环境")]),s._v(" "),n("h2",{attrs:{id:"webpack-基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-基本概念"}},[s._v("#")]),s._v(" Webpack 基本概念")]),s._v(" "),n("blockquote",[n("p",[s._v("webpack 本质上是一个打包工具，它会根据代码的内容解析模块依赖，帮助我们把多个模块的代码打包。")])]),s._v(" "),n("blockquote",[n("p",[s._v("webpack 会把我们项目中使用到的多个代码模块（可以是不同文件类型），打包构建成项目运行仅需要的几个静态文件。webpack 有着十分丰富的配置项，提供了十分强大的扩展能力，可以在打包构建的过程中做很多事情。")])]),s._v(" "),n("h4",{attrs:{id:"入口（enrty）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#入口（enrty）"}},[s._v("#")]),s._v(" 入口（Enrty）")]),s._v(" "),n("p",[s._v("在多个代码模块中会有一个"),n("code",[s._v("js")]),s._v("文件作为webpack构建的入口。"),n("code",[s._v("webpack")]),s._v("通过读取这个文件，从它开始进行解析依赖，然后打包。（默认入口文件为"),n("code",[s._v("./src/index.js")]),s._v(")")]),s._v(" "),n("p",[s._v("根据项目的不同需求，可能是单页面应用，也可能是多页面应用，如果是单页面应用，入口就只有一个；而如果项目比较大型，是多页面应用，那么入口通常会设置多个，一个页面对应一个入口")]),s._v(" "),n("p",[n("strong",[s._v("以下为配置入口的例子")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// 单页面\nmodule.exports = {\n    entry: './src/index.js'\n}\n\n// 多页面\nmodule.exports = {\n    entry: {\n        application1: './src/application1.js',\n        application2: './src/application2.js',\n        // ...\n    }\n}\n\n// 使用数组来对多个文件进行打包\nmodule.exports = {\n    entry: {\n        main: [\n            './src/application1.js',\n            './src/application2.js\n        ]\n    }\n}\n\n// 最后这个例子，可以理解为多个文件作为一个入口，webpack会解析两个文件的依赖然后进行打包\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("h4",{attrs:{id:"loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[s._v("#")]),s._v(" Loader")]),s._v(" "),n("p",[n("code",[s._v("webpack")]),s._v("通过"),n("code",[s._v("loader")]),s._v("提供了一种处理多种文件格式的机制。我们可以将"),n("code",[s._v("loader")]),s._v("理解为是转换器，负责把某种文件格式的内容转换成"),n("code",[s._v("webpack")]),s._v("可以支持打包的模块")]),s._v(" "),n("p",[n("strong",[s._v("Ps")]),s._v("：在没有添加额外插件的情况下，"),n("code",[s._v("webpack")]),s._v(" 会默认把所有依赖打包成 "),n("code",[s._v("js")]),s._v(" 文件，如果入口文件依赖一个 "),n("code",[s._v(".hbs")]),s._v(" 的模板文件以及一个 "),n("code",[s._v(".css")]),s._v(" 的样式文件，那么我们需要 "),n("code",[s._v("handlebars-loader")]),s._v(" 来处理 "),n("code",[s._v(".hbs")]),s._v(" 文件，需要 "),n("code",[s._v("css-loader,style-loader")]),s._v(" 来处理 "),n("code",[s._v(".css")]),s._v(" 文件，最终把不同格式的文件都解析成 "),n("code",[s._v("js")]),s._v(" 代码，以便打包后在浏览器中运行。")]),s._v(" "),n("p",[n("strong",[s._v("如何配置loader规制呢？")]),s._v(" 当我们需要使用不同的"),n("code",[s._v("loader")]),s._v("来解析不同类型的文件时，在"),n("code",[s._v("module.rules")]),s._v("下配置规则")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("举个爪子：使用Babel来处理.js文件\n\nmodule: {\n    //...\n    rules: [\n        {\n            test:/\\.jsx?/,  // test匹配文件路径的正则表达式，通常都是匹配文件类型后缀\n            include: [\n                path.resolve(__dirname,'src') // 指定哪些路径下的文件需要经过loader处理，通常都是src下的文件\n            ],\n            use: 'babel-loader', // 指定使用的 loader\n        }\n    ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("strong",[s._v("loader支撑了webpack处理文件的功能，所以它是比较重要，也比较复杂的，想要玩好webpack，就要玩好loader")])]),s._v(" "),n("h4",{attrs:{id:"plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[s._v("#")]),s._v(" Plugin")]),s._v(" "),n("p",[s._v("在"),n("code",[s._v("webpack")]),s._v("的构建流程中，"),n("code",[s._v("plugin")]),s._v("用于处理更多其他的构建任务（模块代码转换的工作由"),n("code",[s._v("loader")]),s._v("处理，而其他任何工作都可以交由"),n("code",[s._v("plugin")]),s._v("来完成）。我们依据需求来添加所需的"),n("code",[s._v("plugin")]),s._v("，实现我们所需要的功能（Such as "),n("code",[s._v("HtmlWebpackPlugin")]),s._v(" 可以生成创建html入口文件）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const HtmlWebpackPlugin = require('html-webpack-plugin')\n\nmodule.exports = {\n    // ...\n    plugins: [\n        new HtmlWebpackPlugin\n    ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[n("code",[s._v("plugin")]),s._v("可以作用于"),n("code",[s._v("webpack")]),s._v("的整个构建流程，可以在流程的每一个步骤中定制自己的构建需求。在必须时，我们还可以在"),n("code",[s._v("webpack")]),s._v("的基础上自己开发"),n("code",[s._v("plugin")]),s._v("来适应我们的需求")]),s._v(" "),n("h4",{attrs:{id:"输出-output"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#输出-output"}},[s._v("#")]),s._v(" 输出 output")]),s._v(" "),n("p",[s._v("输出即"),n("code",[s._v("webpack")]),s._v("最终构建出来的静态文件。可以通过"),n("code",[s._v("output")]),s._v("来配置构建结果的文件名、路径等")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n    //...\n    output: {\n        path:path.resolve(__dirname,'dist'), // 根目录下的dist\n        filename:'index.js'\n    }\n}\n\n// 可以配置不同入口的不同输出文件\nmodule.exports = {\n    entry: {\n        application1: './src/application1.js',\n        application2: './src/application2.js',\n    },\n    output: {\n        filename: '[name].js',\n        path: __dirname + '/dist',\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[n("strong",[s._v("❗ 如果没有进行配置，默认创建的输出内容就是"),n("code",[s._v("./dist/main.js")])])]),s._v(" "),n("h2",{attrs:{id:"一个简单的webpack配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一个简单的webpack配置"}},[s._v("#")]),s._v(" 一个简单的webpack配置")]),s._v(" "),n("p",[n("strong",[s._v("❗ "),n("code",[s._v("webpack")]),s._v("运行时默认读取项目下的 "),n("code",[s._v("webpack-config.js")]),s._v("，所以我们手动创建一个"),n("code",[s._v("webpack.config.js")]),s._v("文件")])]),s._v(" "),n("blockquote",[n("p",[n("code",[s._v("webpack")]),s._v(" 的配置其实是一个 "),n("code",[s._v("Node.js")]),s._v(" 的脚本，这个脚本对外暴露一个配置对象，"),n("code",[s._v("webpack")]),s._v(" 通过这个对象来读取相关的一些配置。因为是"),n("code",[s._v("Node.js")]),s._v("脚本，所以可玩性非常高，你可以使用任何的 "),n("code",[s._v("Node.js")]),s._v(" 模块，如 "),n("code",[s._v("path")]),s._v(" 模块，或者第三方的模块也可以。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const path = require('path')\nconst UglifyPlugin = require('uglifyjs-webpack-plugin') // 用于缩小（压缩）JsW文件\n\nmodule.exports = {\n    entry: './src/index.js', // 入口\n\n    output: {\n        path: path.resolve(__dirname, 'dist'),\n        filename: 'output.js'\n    },\n\n    module: {\n        rules: [{\n            test: /\\.jsx/,\n            include: [\n                path.resolve(__dirname, 'src')\n            ],\n            use: 'babel-loader'\n        }]\n    },\n\n    // 代码模块路径解析的配置\n    resolve: {\n        modules: [\n            \"node_modules\",\n            path.resolve(__dirname, 'src')\n        ],\n\n        extensions: [\".wasm\", \".mjs\", \".js\", \".json\", \",jsx\"],\n    },\n\n    plugins: [\n        new UglifyPlugin()\n        // 使用 uglifyjs-webpack-plugin 来压缩 JS 代码\n        // 如果你留意了我们一开始直接使用 webpack 构建的结果，你会发现默认已经使用了 JS 代码压缩的插件\n        // 这其实也是我们命令中的 --mode production 的效果，后续的小节会介绍 webpack 的 mode 参数\n    ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("h2",{attrs:{id:"前端社区三大框架基于-webpack-的脚手架工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前端社区三大框架基于-webpack-的脚手架工具"}},[s._v("#")]),s._v(" 前端社区三大框架基于 webpack 的脚手架工具")]),s._v(" "),n("ul",[n("li",[s._v("create-react-app")]),s._v(" "),n("li",[s._v("angular/devkit/build-webpack")]),s._v(" "),n("li",[s._v("vue/cli")])]),s._v(" "),n("h2",{attrs:{id:"搭建基本的前端开发环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建基本的前端开发环境"}},[s._v("#")]),s._v(" 搭建基本的前端开发环境")]),s._v(" "),n("h4",{attrs:{id:"基础前端开发环境需求分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础前端开发环境需求分析"}},[s._v("#")]),s._v(" 基础前端开发环境需求分析")]),s._v(" "),n("ul",[n("li",[s._v("构建我们发布需要的HTML,JS,CSS文件")]),s._v(" "),n("li",[s._v("使用CSS预处理器来编写样式")]),s._v(" "),n("li",[s._v("处理和压缩图片")]),s._v(" "),n("li",[s._v("使用Babel支持ES6语法")]),s._v(" "),n("li",[s._v("本地提供静态服务方便开发调式")])]),s._v(" "),n("h4",{attrs:{id:"html"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#html"}},[s._v("#")]),s._v(" HTML")]),s._v(" "),n("p",[s._v("通常来说，一个前端项目都是从一个页面（即"),n("code",[s._v("HTML")]),s._v("）出发的，最简单的方法是，创建一个"),n("code",[s._v(".html")]),s._v("文件，使用"),n("code",[s._v("script")]),s._v("引用构建好的"),n("code",[s._v(".js")]),s._v("文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('<script src="./dist/output.js"><\/script>\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果我们的文件名或者路径会变化，例如使用"),n("code",[s._v("[hash]")]),s._v("来进行命名，那么最好是将HTML引用路径和我们的构建结果关联起来，就会使用"),n("code",[s._v("html-webpack-plugin")])]),s._v(" "),n("p",[n("code",[s._v("html-webpack-plugin")]),s._v("是独立的依赖包，所以在使用之前要安装它。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("npm install html-webpack-plugin -D\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const HtmlWebpackPlugin = require('html-webpack-plugin')\n\nmodule.exports = {\n    // ...\n    plugins: [\n        new HtmlWebpackPlugin\n    ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("blockquote",[n("p",[s._v("这里配置之后，构造时"),n("code",[s._v("html-webpack-plugin")]),s._v("会为我们创建"),n("code",[s._v(".html")]),s._v("文件，其中会引用构建出来的"),n("code",[s._v("html-webpack-plugin")]),s._v("，传递一个写好的"),n("code",[s._v(".html")]),s._v("模板")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n  // ...\n  plugins: [\n    new HtmlWebpackPlugin({\n      filename: 'index.html', // 配置输出文件名和路径\n      template: path.join(__dirname,'./src/index.html'),   //指定模板页面\n    }),\n  ],\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("code",[s._v("html-webpack-plugin")]),s._v("插件生成的内存中的页面会帮我们创建并正确引用了打包编译生成的"),n("code",[s._v("index.js")]),s._v("的"),n("code",[s._v("<script><\/script>")])]),s._v(" "),n("h4",{attrs:{id:"css"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[s._v("#")]),s._v(" Css")]),s._v(" "),n("p",[s._v("当我们希望使用"),n("code",[s._v("webpack")]),s._v("对我们所编写的"),n("code",[s._v("css")]),s._v("进行构建，则需要在配置中引入相关"),n("code",[s._v("loader")]),s._v("来解析和处理"),n("code",[s._v(".css")]),s._v("文件（需要用到"),n("code",[s._v("style-loader,css-loader")]),s._v(",两者都是依赖包，需要先进行安装）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n    rules: [\n        {\n            test: /\\.css/,\n            include: [\n                path.resolve(__dirname,'src')\n            ],\n            use:[\n                'style-loader',\n                'css-loader'\n            ]\n        }\n    ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("strong",[n("code",[s._v("css-loader,style-loader")]),s._v("的作用")])]),s._v(" "),n("ul",[n("li",[s._v("css-loader：负责解析css代码，处理css中的依赖，例如"),n("code",[s._v("@import")]),s._v("以及"),n("code",[s._v("url()")]),s._v("等引用外部文件的声明")]),s._v(" "),n("li",[s._v("style-loader：将"),n("code",[s._v("css-loader")]),s._v("解析出来的结果转变为"),n("code",[s._v("js")]),s._v("代码，运行时会插入到"),n("code",[s._v("<style></style>")]),s._v("中来让"),n("code",[s._v("css")]),s._v("代码运作")])]),s._v(" "),n("p",[s._v("经过"),n("code",[s._v("css-loader,style-loader")]),s._v("的处理，"),n("code",[s._v("css")]),s._v("代码就会转变为"),n("code",[s._v("js")]),s._v("代码，最后一起打包出来。")]),s._v(" "),n("p",[s._v("如果需要将"),n("code",[s._v(".css")]),s._v("文件单独分离，需要用到"),n("code",[s._v("extract-text-webpack-plugin")]),s._v("插件（这里不对其进行解释）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const ExtractTextPlugin = require('extract-text-webpack-plugin')\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        // 因为这个插件需要干涉模块转换的内容，所以需要使用它对应的 loader\n        use: ExtractTextPlugin.extract({ \n          fallback: 'style-loader',\n          use: 'css-loader',\n        }), \n      },\n    ],\n  },\n  plugins: [\n    // 引入插件，配置文件名，这里同样可以使用 [hash]\n    new ExtractTextPlugin('index.css'),\n  ],\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h4",{attrs:{id:"css预处理器（less-sass）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css预处理器（less-sass）"}},[s._v("#")]),s._v(" Css预处理器（Less/Sass）")]),s._v(" "),n("p",[n("code",[s._v("Less/Sass")]),s._v("可以说是在工作中必不可少的，"),n("code",[s._v("webpack")]),s._v("可以通过配置"),n("code",[s._v("loader")]),s._v("，来支持"),n("code",[s._v("Less/Sass")]),s._v("的运行")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("举个爪子，以Less为例子进行配置\n\n需要用到less-loader\n\n将 css-loader、 style-loader 和 less-loader 链式调用， 可以把所有样式立即应用于 DOM\n\nmodule.exports = {\n    // ...\n    module: {\n        rules: [\n            {\n                test: /\\.less$/,\n                use: [{\n                    loader: 'style-loader'\n                }, {\n                    loader: 'css-loader'\n                }, {\n                    loader: 'less-loader' \n                }]\n            }\n        ]\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("我们也可以修改上面的webpack配置\n\nmodule.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.less$/,\n        // 因为这个插件需要干涉模块转换的内容，所以需要使用它对应的 loader\n        use: ExtractTextPlugin.extract({ \n          fallback: 'style-loader',\n          use: [\n            'css-loader', \n            'less-loader',\n          ],\n        }), \n      },\n    ],\n  },\n  // ...\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("h4",{attrs:{id:"处理图片文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#处理图片文件"}},[s._v("#")]),s._v(" 处理图片文件")]),s._v(" "),n("p",[s._v("在前端工作流程中，绝对少不了图片，虽然我们已经在"),n("code",[s._v("css-loader")]),s._v("样式解析中对"),n("code",[s._v("url()")]),s._v("引用文件路径做了处理，但"),n("code",[s._v("webpack")]),s._v("处理不了"),n("code",[s._v("jpg/png/gif")]),s._v("等文件格式，所以我们还需要添加一个"),n("code",[s._v("loader")]),s._v("来配置，让我们能够使用图片文件")]),s._v(" "),n("p",[n("code",[s._v("file-loader")]),s._v("可以用于处理很多类型的文件，它主要是通过输出文件，把构建后的文件路径返回。")]),s._v(" "),n("p",[s._v("配置"),n("code",[s._v("file-loader")]),s._v("，在"),n("code",[s._v("rules")]),s._v("中添加图片类型文件的解析配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n    // ...\n    modules: {\n        // ...\n        rules: [\n            {\n               test: /\\.(png|jpg|gif)$/,\n                use: [\n                    {\n                        loader: 'file-loader',\n                        options: {},\n                    },\n                ], \n            }\n        ]\n    }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h4",{attrs:{id:"babel-处理es6、es7标准"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#babel-处理es6、es7标准"}},[s._v("#")]),s._v(" Babel 处理ES6、ES7标准")]),s._v(" "),n("p",[n("code",[s._v("Babel")]),s._v("是一个让我们能够使用"),n("code",[s._v("ES")]),s._v("新特性的"),n("strong",[s._v("JS编译工具")]),s._v("，我们可以在"),n("code",[s._v("webpack")]),s._v("中配置"),n("code",[s._v("Babel")]),s._v("，让我们用"),n("code",[s._v("ES6")]),s._v(","),n("code",[s._v("ES7")]),s._v("标准编写"),n("code",[s._v("JS")]),s._v("代码")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?/, // 支持 js 和 jsx\n        include: [\n          path.resolve(__dirname, 'src'), // src 目录下的才需要经过 babel-loader 处理\n        ],\n        loader: 'babel-loader',\n      },\n    ],\n  },\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("strong",[s._v("我们需要在根目录下创建一个.babelrc文件来对Babel进行配置")])]),s._v(" "),n("h4",{attrs:{id:"启动静态服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动静态服务"}},[s._v("#")]),s._v(" 启动静态服务")]),s._v(" "),n("p",[s._v("开启静态服务，可以通过"),n("code",[s._v("webpack-dev-server")]),s._v("在本地开启一个简单的静态服务来进行开发")]),s._v(" "),n("p",[s._v("安装"),n("code",[s._v("webpack-dev-server")]),s._v("，然后配置"),n("code",[s._v("package.json")]),s._v("中")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('"scripts": {\n    "build": "webpack --mode production",\n    "start": "webpack-dev-server --mode development"\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("使用"),n("code",[s._v("npm run start")]),s._v("运行项目，访问"),n("code",[s._v("http://localhost:8080/")]),s._v("（默认访问的是index.html)")]),s._v(" "),n("p",[s._v("通过"),n("code",[s._v("ctrl + C")]),s._v("可以结束运行")]),s._v(" "),n("hr")])}),[],!1,null,null,null);a.default=t.exports}}]);